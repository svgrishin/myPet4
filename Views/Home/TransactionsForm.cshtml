@model myPet4.Models.UserData.UserItem
@using myPet4.Models
@using myPet4.Controllers

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<body>
    <form asp-action="AddTransaction" class="topPanels" style="height:300px; background:none; padding:0" >
        <progress value=@Model.loaded max=@Model.item.summ></progress>
        <div class="itemLabel" style="display:flex">
            <label>@Model.currentSumm &#8381</label>
            <label style="background:none; color: grey; text-align:right; font-weight:600">@Model.dailyBalance &#8381</label>
        </div>
        <div style="display:flex">
            <label style="background:none; width: 55%; display: inline-block">@Model.item.nameOf</label>
            <input value="" type="submit" id="addItem" asp-action="AddTransaction" asp-route-id="@Model.item.id" class="itemButton" />
            <button id="editItem" asp-action="EditTransaction" class="itemButton" onclick="testt();"></button>
            <button id="deleteItem" asp-action="DeleteTransaction" class="itemButton" onclick="FrameUpdate();"></button>

        </div>

        @Html.ListBox("transactionId", new SelectList(Model.item.transactions, "id","summ"))
    </form>
</body>


<script>
    {
        var s = document.getElementsByName("transactionId");
        s.forEach(p => p.removeAttribute("multiple"));
        s.forEach(p => p.setAttribute("size", 2));

        function FrameUpdate() {
            setInterval(() => {
                top.document.getElementById("topFrame").contentWindow.location.reload(true);
            }, 1);
        };
    }
</script>