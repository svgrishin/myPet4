@model myPet4.Models.UserData;
@using myPet4.Models;
@using myPet4.Controllers;

@{
    ViewData["Title"] = Model.Person.login;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<body>
    <div>
        <table>
            <tr>
                <td>
                    <form class="topPanels" style="vertical-align:bottom">
                        <label style="background:none">Просмотр по дате</label>
                        <input style="margin: 0 5% 0 5%" type="date" />
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="Person.Finance.cash"></label>
                        <label style="margin: 0 5% 0 5%">@Model.Person.Finance.cash &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="Person.Finance.freeMoney"></label>
                        <label style="margin: 0 5% 0 5%">@Model.Person.Finance.freeMoney &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="currentIncome"></label>
                        <label style="margin: 0 5% 0 5%">@Model.currentIncome &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="profit"></label>
                        <label style="margin: 0 5% 0 5%">@Model.profit &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="Person.Finance.credit"></label>
                        <label style="margin: 0 5% 0 5%">@Model.Person.Finance.credit &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="toSaveByPeriod"></label>
                        <label style="margin: 0 5% 0 5%">@Model.toSaveByPeriod &#8381</label>
                    </form>
                </td>
                <td>
                    <form class="topPanels">
                        <label style="background:none" asp-for="savedMoney"></label>
                        <label style="margin: 0 5% 0 5%">@Model.savedMoney &#8381</label>
                    </form>
                </td>
            </tr>
        </table>
        <br />
        <br />
        <table>
            <tr>
                @foreach (UserData.UserItem userItem in Model.userItems)
                {
                    <td>
                        <progress value=@userItem.loaded max="100"></progress>
                        <form class="topPanels" style="height:300px">
                            <div class="itemLabel" style="display:flex">
                                <label>@userItem.currentSumm &#8381</label>
                                <label style="background:none; color: grey; text-align:right; font-weight:600">@userItem.dailyBalance &#8381</label>
                            </div>
                            <div style="display:flex">
                                <label style="background:none; width: 55%; display: inline-block">@userItem.item.nameOf</label>
                                <button id="editItem" class="itemButton"></button>
                                <button id="addItem" class="itemButton"></button>
                                <button id="deleteItem" class="itemButton"></button>
                            </div>
                            @{
                                List<string> s = new List<string>();
                            }
                            @foreach (Transactions transaction in userItem.item.Transactions)
                            {
                                s.Add(transaction.summ.ToString() + " " + Convert.ToChar(8381).ToString());
                            }
                            @Html.ListBox("itemTransactions",new SelectList(s))
                        </form>
                    </td>
                }
            </tr>
        </table>
    </div>

</body>
<script>
    {
        var s = document.getElementsByName("itemTransactions");
        s.forEach(p => p.removeAttribute("multiple"));
        s.forEach(p => p.setAttribute("size", 2));
    }
</script>

@*<form form style="padding:15px;margin:5px">
    <input type="date" style="padding:5px; background-color: white; border-radius:10px; min-width:250px; margin:5px; font-size:20px" />
</form>

<form style="padding:10px;margin:5px">
    <label asp-for="Person.Finance.cash"></label>
    <br />
    <label style="float:right">@Model.Person.Finance.cash</label>
</form>

<form style="padding:10px;margin:5px">
    <label asp-for="Person.Finance.freeMoney"></label>
    <br />
    <label style="float:right">@Model.Person.Finance.freeMoney</label>
</form>
<form>
    <div style="padding:10px; background-color: white; border-radius:10px; min-width:350px; margin:5px">
        <label asp-for="Person.Finance.credit"></label>
        <label style="float:right">@Model.Person.Finance.credit</label>
    </div>
    <div style="padding:10px; background-color: white; border-radius:10px; min-width:350px; margin:5px">
        <label asp-for="savedMoney"></label>
        <label style="float:right">@Model.savedMoney</label>
    </div>
    <div style="padding:10px; background-color: white; border-radius:10px; min-width:350px; margin:5px">
        <label asp-for="profit"></label>
        <label style="float:right">@Model.profit</label>
    </div>
</form>
<br />
<div style="padding:10px; background-color: white; border-radius:10px; min-width:350px; margin:5px" class="form-group">
    <label asp-for="Person.ItemPerson"></label>
    @foreach (ItemPerson item in Model.Person.ItemPerson)
    {
        <label>@item.nameOf</label>
    }
</div>*@